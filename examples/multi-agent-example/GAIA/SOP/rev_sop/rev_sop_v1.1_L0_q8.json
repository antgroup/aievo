{
  "question": "What is the average number of pre-2020 works on the open researcher and contributor identification pages of the people whose identification is in this file?\nFILENAME:bec74516-02fc-48dc-b202-55e78d0e17cf.jsonld",
  "analysis": "The user's question requires analyzing a JSON-LD file to extract ORCID IDs, retrieving pre-2020 works from ORCID pages, and calculating their average. The revised SOP strengthens search precision, error resilience, and validation.",
  "sops": [
    {
      "team": [
        "Planner",
        "FileAnalyzer",
        "WebSearcher",
        "Summarizer"
      ],
      "sop": "**Workflow:**\nUser -\u003e Planner;\nPlanner -\u003e FileAnalyzer;\nPlanner -\u003e WebSearcher;\nFileAnalyzer -\u003e WebSearcher;\nWebSearcher -\u003e Planner;\nPlanner -\u003e Summarizer;\nSummarizer -\u003e End.\n\n**Description:**\n1. The Planner generates explicit plans for ORCID extraction and site-specific work searches.\n2. The FileAnalyzer parses ORCID IDs from the JSON-LD file.\n3. The WebSearcher retrieves pre-2020 works from ORCID pages using structured queries, with retries for failures.\n4. The Planner validates a subset of WebSearcher's results for accuracy.\n5. The Summarizer computes the average using resolved ORCIDs and excludes unresolved cases after retries.",
      "details": [
        {
          "name": "Planner",
          "responsibility": "Generate targeted plans and validate results",
          "instruction": "1. Create a plan for FileAnalyzer: 'Extract all ORCID identifiers from the JSON-LD file and format as a list.'\n2. Create a plan for WebSearcher: 'For each ORCID ID {ORCID_ID}, use 'site:orcid.org https://orcid.org/{ORCID_ID}' to locate the ORCID page. If found, search 'site:orcid.org/{ORCID_ID} publications before 2020' and count visible works. Retry up to 3 times for unresolved ORCIDs.'\n3. After receiving WebSearcher's output, manually verify counts for 2 randomly selected ORCIDs to ensure accuracy.",
          "tools": []
        },
        {
          "name": "FileAnalyzer",
          "responsibility": "Extract ORCID identifiers from the JSON-LD file",
          "instruction": "Parse the JSON-LD file to identify and extract all ORCID identifiers using the schema 'https://orcid.org/{ORCID_ID}'. Format them as a list and forward to the WebSearcher.",
          "tools": [
            "File Reader"
          ]
        },
        {
          "name": "WebSearcher",
          "responsibility": "Retrieve and count pre-2020 works from ORCID pages",
          "instruction": "1. For each ORCID ID {ORCID_ID}:\n   a. Search 'site:orcid.org https://orcid.org/{ORCID_ID}' to locate the ORCID page.\n   b. If found, search 'site:orcid.org/{ORCID_ID} publications before 2020' and count visible works on the page.\n   c. If unresolved after 3 retries, mark as 'unresolved' and proceed to the next ORCID.\n2. Compile a list of counts (e.g., { 'resolved': { '0000-0001-2345-6789': 15, ... }, 'unresolved': [ '0000-0009-8765-4321' ] }).\n3. Forward the list to the Planner for validation.",
          "tools": [
            "GOOGLE Search"
          ]
        },
        {
          "name": "Summarizer",
          "responsibility": "Calculate the final average",
          "instruction": "1. Collect validated counts from the Planner.\n2. Exclude unresolved ORCIDs from calculations.\n3. Compute the average as 'total_pre_2020_works / number_of_resolved_ORCIDs'.\n4. Return the result with a note: 'Average calculated from {X} resolved ORCIDs; {Y} unresolved ORCIDs were excluded.'",
          "tools": []
        }
      ]
    }
  ]
}